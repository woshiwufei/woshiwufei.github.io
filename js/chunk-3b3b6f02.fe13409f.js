(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b3b6f02"],{2065:function(e,t,r){"use strict";var o=r("affe"),n=r.n(o);n.a},"27ae":function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(e,t){module.exports=t(e)})("undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof global?global:this,(function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.2",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(err){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},r=0,o=e.length;r<o;r++)t[e.charAt(r)]=r;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)}t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),o=[b64chars.charAt(r>>>18),b64chars.charAt(r>>>12&63),t>=2?"=":b64chars.charAt(r>>>6&63),t>=1?"=":b64chars.charAt(63&r)];return o.join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=function(e){var t="[object Uint8Array]"===Object.prototype.toString.call(e);return t?e.toString("base64"):btoa(utob(String(e)))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,""):_encode(e)},encodeURI=function(e){return encode(e,!0)},re_btou=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cb_btou=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return fromCharCode(55296+(r>>>10))+fromCharCode(56320+(1023&r));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,r=t%4,o=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),n=[fromCharCode(o>>>16),fromCharCode(o>>>8&255),fromCharCode(255&o)];return n.length-=[0,0,2,1][r],n.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"===typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(e){return encode(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global["Meteor"]&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}}))}).call(this,__webpack_require__("c8ba"))},affe:function(e,t,r){},ede4:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"Login"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:7,offset:7}},[r("div",{staticClass:"grid-content bg-purple"},[r("h1",{attrs:{align:"center"}},[e._v("用户登录界面")])])]),r("el-col",{attrs:{span:10,offset:6}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{"status-icon":"",rules:e.rules,model:e.ruleForm},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"",prop:"username"}},[r("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"请输入长度在6-20位的用户名"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),r("el-form-item",{attrs:{label:"",prop:"password"}},[r("el-input",{attrs:{type:this.passwordType,autocomplete:"off",placeholder:"请输入长度在6-20位的密码"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}},[r("i",{staticClass:"el-icon-view el-input__icon",style:e.fontstyle,attrs:{slot:"suffix"},on:{click:e.showPassword},slot:"suffix"})])],1),r("el-form-item",{attrs:{prop:"verifycode"}},[r("el-input",{staticClass:"identifyinput",attrs:{placeholder:"请输入验证码"},model:{value:e.ruleForm.verifycode,callback:function(t){e.$set(e.ruleForm,"verifycode",t)},expression:"ruleForm.verifycode"}})],1),r("el-form-item",{staticClass:"identify"},[r("div",{staticClass:"identifybox"},[r("div",{on:{click:e.refreshCode}},[r("validate-code",{attrs:{identifyCode:e.identifyCode}})],1),r("el-button",{staticClass:"textbtn",attrs:{type:"text"},on:{click:e.refreshCode}},[e._v("看不清，换一张")])],1)]),r("el-form-item",[r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")]),r("el-button",{attrs:{type:"primary",disabled:!this.active,"native-type":"submit"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),r("el-button",{attrs:{type:"success",size:"large"},on:{click:e.register}},[e._v("注册")])],1)],1)],1)])],1)],1)},n=[],a=r("5530"),s=(r("ac1f"),r("5319"),r("2f62")),i=r("27ae").Base64,u={name:"Login",data:function(){var e=this,t=function(t,r,o){""===r?(o(new Error("请输入验证码")),e.active=!1):r!==e.identifyCode?(console.log("validateVerifycode:",r),o(new Error("验证码不正确!")),e.active=!1):(o(),e.active=!0)},r=function(t,r,o){""===r?(o(new Error("用户名不能为空!")),e.active=!1):r.length>20||r.length<6?(o(new Error("用户名长度必须在6~20之间")),e.active=!1):o()},o=function(t,r,o){""===r?(o(new Error("密码不能为空!")),e.active=!1):r.length>20||r.length<6?(o(new Error("密码长度必须在6~20之间")),e.active=!1):o()};return{fontstyle:{},identifyCodes:"1234567890",identifyCode:"",passwordType:"password",active:!1,ruleForm:{username:"",password:"",verifycode:""},rules:{username:[{validator:r,change:"blur",required:!0}],password:[{validator:o,change:"blur",required:!0}],verifycode:[{required:!0,change:"blur",validator:t}]}}},mounted:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},computed:Object(a["a"])({},Object(s["c"])(["thisBlog"])),watch:{"ruleForm.username":{handler:function(){this.ruleForm.username=this.ruleForm.username.replace(/\s*/g,"")}},"ruleForm.password":{handler:function(){this.ruleForm.password=this.ruleForm.password.replace(/\s*/g,"")}}},methods:Object(a["a"])(Object(a["a"])({},Object(s["b"])(["getToken"])),{},{showPassword:function(){""===this.fontstyle?this.fontstyle="color: red":this.fontstyle="",""===this.passwordType?this.passwordType="password":this.passwordType=""},randomNum:function(e,t){return Math.floor(Math.random()*(t-e)+e)},refreshCode:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},makeCode:function(e,t){for(var r=0;r<t;r++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)];console.log(this.identifyCode)},resetForm:function(e){this.$refs[e].resetFields()},register:function(){this.$router.push("/register"),console.log(this.ruleForm)},submitForm:function(e){var t=this;this.$axios.post("/api/user/login",{username:this.ruleForm.username,password:i.encode(this.ruleForm.password)}).then((function(e){console.log(e),console.log(e.data.msg),e.data.status?t.$message({message:e.data.msg,type:"warning"}):(t.$message({message:e.data.msg,type:"success"}),sessionStorage.setItem("username",t.ruleForm.username),sessionStorage.setItem("grade",e.data.grade),sessionStorage.setItem("user_id",e.data.user_id),console.log(sessionStorage),t.$route.query.article_id?t.$router.push({path:"/content",query:t.$route.query.article_id}):t.$router.push("/admin"))}))}})},c=u,l=(r("2065"),r("2877")),d=Object(l["a"])(c,o,n,!1,null,"12bca193",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-3b3b6f02.fe13409f.js.map